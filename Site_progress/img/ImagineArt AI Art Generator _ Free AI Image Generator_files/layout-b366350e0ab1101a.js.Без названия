(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{58925:function(e,t,n){Promise.resolve().then(n.t.bind(n,84080,23)),Promise.resolve().then(n.t.bind(n,74014,23)),Promise.resolve().then(n.t.bind(n,31391,23)),Promise.resolve().then(n.t.bind(n,19593,23)),Promise.resolve().then(n.t.bind(n,19837,23)),Promise.resolve().then(n.t.bind(n,52339,23)),Promise.resolve().then(n.bind(n,2300)),Promise.resolve().then(n.t.bind(n,53054,23)),Promise.resolve().then(n.bind(n,13684)),Promise.resolve().then(n.bind(n,19651)),Promise.resolve().then(n.t.bind(n,31183,23))},2300:function(e,t,n){"use strict";n.d(t,{GlobalModals:function(){return el}});var r=n(57437),i=n(16463),a=n(91606),s=n(2265),l=n(81980),o=n.n(l),d=n(76015),c=n(81149),u=n(95401),m=n(82442),p=n(78958),x=n(8792);let g=e=>{let{title:t,code:n,description:i,icon:a}=e,{copy:s}=(0,p.m)();return(0,r.jsxs)("div",{className:"flex gap-3 rounded-2xl bg-neutral-20 p-3 dark:bg-neutral-0/5",children:[(0,r.jsx)("div",{className:"h-[34px] min-h-[34px] w-[34px] min-w-[34px] overflow-hidden rounded-xl",children:(0,r.jsx)("img",{src:a,alt:"icon",className:"h-full w-full object-cover"})}),(0,r.jsxs)("div",{className:"flex w-full flex-col gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"text-sm text-neutral-900 dark:text-neutral-0",children:t}),(0,r.jsxs)("div",{className:"flex items-center gap-1 rounded-md bg-neutral-40 px-1.5 py-0.5 dark:bg-neutral-700",children:[(0,r.jsx)("div",{className:"text-xs font-medium text-neutral-900 dark:text-neutral-0",children:n}),(0,r.jsx)(u.WithGenericTooltip,{content:"Copy",children:(0,r.jsx)("button",{type:"button",onClick:()=>{m.Am.success("Copied to clipboard"),s(n)},"aria-label":"Tooltip Button",children:(0,r.jsx)(x.TI,{className:"h-[14px] w-[14px] stroke-[1.75] text-neutral-900 dark:text-neutral-0"})})})]})]}),(0,r.jsx)("div",{className:"text-sm text-neutral-600 dark:text-neutral-40",children:i})]})]})},f=e=>{let{title:t,cta:n,sub_content:i,description:a,redirectHandler:s}=e;return(0,r.jsxs)("div",{className:"flex w-full max-w-[401px] flex-col gap-[18px]",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2 text-center",children:[(0,r.jsx)("h3",{className:"text-[32px] font-medium leading-[44px] text-neutral-900 dark:text-neutral-0",style:{fontFamily:"announcement-modal-title"},children:t}),(0,r.jsx)("p",{className:"text-sm text-neutral-600 dark:text-neutral-40",children:a})]}),(0,r.jsx)("div",{className:"flex flex-col gap-1",children:i.map((e,t)=>(0,r.jsx)(g,{...e},t))})]}),(0,r.jsx)(c.z,{variant:"ai",onClick:()=>{var e;s(null!==(e=n.redirect_to)&&void 0!==e?e:"")},children:n.text})]})},h=e=>{let{announcementModal:t,redirectHandler:n,onCloseBtnClick:i}=e,[a,l]=(0,s.useState)(!1),c=null==t?void 0:t.content;return((0,s.useEffect)(()=>{var e,n,r;if(!t||!t.is_enabled)return;let i=null!==(e=t.max_shows)&&void 0!==e?e:1,a=null!==(n=t.key)&&void 0!==n?n:"announcement-modal",s=parseInt(null!==(r=localStorage.getItem(a))&&void 0!==r?r:"0",10);s>=i||(localStorage.setItem(a,(s+1).toString()),l(!0),Promise.all(t.content.titleFonts.map(e=>new FontFace("announcement-modal-title","url(".concat(e.url,")"),e.options).load())).then(e=>{e.forEach(e=>{var t;null===(t=document)||void 0===t||t.fonts.add(e)})}).catch(()=>{}))},[t,l]),c)?(0,r.jsx)(d.$E,{open:a,onOpenChange:l,children:(0,r.jsxs)(d.Yk,{className:"h-full max-h-[519px] w-full max-w-[789px] transition-colors duration-500",children:[(0,r.jsxs)(d.DQ,{className:"relative w-full flex-row gap-0 overflow-hidden rounded-[18px]",children:[t.is_confetti_enabled&&(0,r.jsx)(o(),{recycle:!1,gravity:.5}),(0,r.jsx)(d.Zh,{onClick:i}),(0,r.jsx)("div",{className:"h-full min-w-[280px] bg-neutral-20 dark:bg-neutral-800",children:(0,r.jsx)("img",{src:c.primary_announcement_img,alt:"primary",className:"h-full w-full object-cover"})}),(0,r.jsx)("div",{className:"grid h-full w-full place-items-center p-6",children:(0,r.jsx)(f,{...c,redirectHandler:n})})]}),c.secondary_announcement_img&&(0,r.jsx)("div",{className:"absolute left-2 top-0 z-50 h-[100px] w-[95px] -translate-x-1/2 -translate-y-1/2 transform",children:(0,r.jsx)("img",{src:c.secondary_announcement_img,alt:"secondary",className:"h-full w-full object-cover"})})]})}):null};var _=n(24019),v=n(54361),N=n(17674),j=n(43664),I=n(83359);let E=()=>{let{setIsModalOpen:e,isModalOpen:t}=(0,v.d)();return(0,s.useEffect)(()=>{let t=()=>{m.Am.warning("There seems to be a problem with the connection.",{renderCta:e=>(0,r.jsx)(c.z,{...e,onClick:()=>{j.c.triggerEventUsingElementId(_.i.RELOAD_CANVAS),window.location.reload()},children:"Reload"}),duration:1e4}),setTimeout(()=>{e(!0)},1e4)},n=()=>{m.Am.success("You are back online!"),e(!1)};return window.addEventListener("offline",t),window.addEventListener("online",n),()=>{window.removeEventListener("offline",t),window.removeEventListener("online",n)}}),(0,r.jsx)(I.$E,{open:t,onOpenChange:e,modal:!1,children:(0,r.jsx)(I.Yk,{className:"h-full w-full",onInteractOutside:e=>{e.preventDefault()},children:(0,r.jsx)(I.DQ,{className:"flex flex-col items-center justify-center",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-[18px]",children:[(0,r.jsx)(N.ML,{}),(0,r.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,r.jsx)("h4",{className:"text-xl font-semibold leading-[30px] text-neutral-900 dark:text-neutral-0",children:"You seem to be offline"}),(0,r.jsx)("p",{className:"text-sm text-neutral-600 dark:text-neutral-40",children:"Please check your internet connection and try again."})]}),(0,r.jsx)(c.z,{size:"sm",onClick:()=>{window.location.reload()},children:"Reload"})]})})})})};var b=n(63218),w=n(83649),y=n(54012),k=n(24528),S=n(29865),T=n(52247),C=n(66648),P=n(8662);let A=e=>{let{onClick:t,isSelected:n,index:i}=e;return(0,r.jsx)("button",{id:"image-carousel-indicator-".concat(i),"aria-label":"Image#".concat(i),type:"button",onClick:t,className:(0,k.cn)("h-1.5 min-h-1.5 w-1.5 min-w-1.5 rounded-full bg-neutral-900 bg-opacity-[0.24] opacity-100 backdrop-blur-[6px] transition-all duration-500 dark:bg-neutral-0",{"w-3 min-w-3 bg-opacity-100":n})})},O=e=>{let{images:t,className:n="",currentImgIndex:i,onChange:a}=e;return(0,r.jsx)("div",{className:"h-full min-w-[280px] max-w-[280px] bg-neutral-20 dark:bg-neutral-800",children:(0,r.jsx)(P.lr,{showArrows:!1,useKeyboardArrows:!0,autoPlay:!0,interval:3e3,infiniteLoop:!0,showStatus:!1,showThumbs:!1,showIndicators:t.length>1,onChange:e=>{null==a||a(e)},renderIndicator:(e,t,n)=>(0,r.jsx)(A,{onClick:e,isSelected:t,index:n}),selectedItem:i,children:t.map((e,t)=>(0,r.jsx)("div",{className:"h-full w-full",children:(0,r.jsx)(C.default,{src:e,alt:"".concat(t),className:"".concat(n," h-full max-h-screen w-full object-contain"),width:280,height:280})},t))})})},R=[{src:"".concat(T.v.ASSETS_CDN,"assets/images/txt to art.png"),darkSrc:"".concat(T.v.ASSETS_CDN,"assets/images/txt to art dark.png"),content:{title:"Turn Text into Art",description:"Type a few words and instantly see them transformed into a captivating image.",Icon:N.UV}},{src:"".concat(T.v.ASSETS_CDN,"assets/images/image remix.png"),darkSrc:"".concat(T.v.ASSETS_CDN,"assets/images/image remix dark.png"),content:{title:"Remix Images with AI",description:"Combine your images with text prompts for endless creative possibilities.",Icon:N.zS}},{src:"".concat(T.v.ASSETS_CDN,"assets/images/templates.png"),darkSrc:"".concat(T.v.ASSETS_CDN,"assets/images/templates dark.png"),content:{title:"Limitless Design with Infinite Canvas",description:"Create stunning social media posts, posters, and more without space limitations.",Icon:N.OQ}}],D=R.map(e=>{let{src:t}=e;return t}),L=R.map(e=>{let{darkSrc:t}=e;return t}),U=()=>{let[e,t]=(0,s.useState)(0),n=R[e].content.Icon;return(0,r.jsxs)("div",{className:"relative h-full min-w-[280px] bg-neutral-20 dark:bg-neutral-800",children:[(0,r.jsx)("div",{className:"absolute inset-0 block dark:hidden",children:(0,r.jsx)(O,{currentImgIndex:e,onChange:t,images:D})}),(0,r.jsx)("div",{className:"absolute inset-0 hidden dark:block",children:(0,r.jsx)(O,{currentImgIndex:e,onChange:t,images:L})}),(0,r.jsxs)(S.S,{className:"absolute inset-x-0 bottom-[30px] z-50 mx-auto flex h-[116px] w-[256px] flex-col gap-2 p-2 dark:bg-neutral-700",children:[(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"grid h-8 w-8 place-items-center rounded-xl bg-neutral-30 dark:bg-neutral-600",children:(0,r.jsx)(n,{className:"h-4 w-4"})})}),(0,r.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,r.jsx)("h3",{className:"text-xs font-medium text-neutral-900 dark:text-neutral-0",children:R[e].content.title}),(0,r.jsx)("p",{className:"text-[11px] leading-[18px] text-neutral-600 dark:text-neutral-40",children:R[e].content.description})]})]})]})},M=()=>{let e=(0,y.k)(e=>e.isOpen),t=(0,y.k)(e=>e.setIsOpen),n=(0,a.ac)("(min-width: 1180px)");return(0,r.jsx)(I.$E,{open:e,onOpenChange:t,children:(0,r.jsxs)(I.Yk,{className:(0,k.cn)("h-full max-h-[600px] w-full overflow-hidden transition-colors duration-500",{"max-w-[1180px]":n,"max-w-[900px]":!n}),children:[(0,r.jsx)(I.Zh,{}),(0,r.jsxs)(I.DQ,{className:"w-full flex-row gap-0 overflow-hidden p-4",children:[n&&(0,r.jsx)(U,{}),(0,r.jsx)("div",{className:"h-full w-full p-6",children:(0,r.jsx)(w.m,{variant:"modal",revokeActionHandler:()=>{}})})]})]})})};var H=n(13304),G=n(99497),F=n(87138),z=n(86759),B=n(34124),V=n(60566),Y=n(35273),K=n(75942),Z=n(24030),Q=n(81750),W=n(53574),X=n(8363);let $=e=>{let{tokenItem:t}=e;return(0,r.jsxs)(G.ck,{className:"flex h-[68px] w-full cursor-pointer items-center justify-between rounded-2xl bg-neutral-20 px-4 py-3 transition-colors duration-500 hover:bg-neutral-30 dark:bg-neutral-800 dark:hover:bg-neutral-700",value:"".concat(t.stripePriceId),children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(X.E9,{value:"".concat(t.stripePriceId)}),(0,r.jsxs)("div",{className:"flex flex-col text-left",children:[(0,r.jsxs)("p",{className:"font-semibold text-neutral-900 dark:text-neutral-0",children:[t.maxQuantity," Tokens"]}),(0,r.jsxs)("p",{className:"font-medium text-neutral-600 dark:text-neutral-60",children:[t.price/t.maxQuantity," USD / token"]})]})]}),(0,r.jsxs)("div",{className:"font-semibold text-neutral-900 dark:text-neutral-0",children:["$",t.price]})]})},q=()=>{var e,t,n;let i=(0,Q.m8)()(e=>e.user),{data:a,isLoading:l}=(0,K.sb)(),o=null==a?void 0:null===(t=a.result[0])||void 0===t?void 0:null===(e=t.StripePrice[0])||void 0===e?void 0:e.stripePriceId,[d,u]=(0,s.useState)(),m=(0,K.wN)(),p=(0,Z.n)(e=>e.isOpen),x=(0,Z.n)(e=>e.setIsOpen);return(0,s.useEffect)(()=>{u(o)},[o]),(0,r.jsx)(I.$E,{open:p,onOpenChange:x,children:(0,r.jsxs)(I.Yk,{className:"flex h-fit w-[409px] flex-col items-center justify-start gap-6 p-6 pt-11",children:[(0,r.jsx)(I.Zh,{}),(0,r.jsx)("div",{className:"grid min-h-[74px] min-w-[74px] place-items-center rounded-full bg-[linear-gradient(180deg,#9C4FFF_0%,#674FFF_100%)]",children:(0,r.jsx)(N.Nl,{className:"h-11 w-11 stroke-current stroke-[3] text-neutral-0 transition-colors duration-500"})}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 text-center",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-neutral-900 transition-colors duration-500 dark:text-neutral-0",children:"Top up your tokens"}),(0,r.jsx)("p",{className:"text-sm text-neutral-600 transition-colors duration-500 dark:text-neutral-40",children:"Running low on tokens? Purchase tokens on the go and add them to your existing subscription."})]}),(0,r.jsx)(X.Kl,{className:"flex max-h-[228px] w-full flex-col gap-3 overflow-hidden overflow-y-auto",value:d,onValueChange:u,children:l?Array.from({length:3}).map((e,t)=>(0,r.jsx)(z.A,{className:"h-[68px] w-full rounded-2xl"},t)):null==a?void 0:null===(n=a.result[0])||void 0===n?void 0:n.StripePrice.map(e=>(0,r.jsx)($,{tokenItem:e},e.id))}),(0,r.jsxs)("div",{className:"flex w-full flex-col gap-3",children:[(0,r.jsx)(c.z,{type:"button",variant:"primary",className:"w-full",size:"xl",disabled:l||m.isLoading,onClick:()=>{m.mutate(null!=d?d:"",{onSuccess:Y.R9,onError:Y.h_})},children:m.isLoading?(0,r.jsx)(B.$,{className:"h-5 w-5"}):"Buy tokens"}),(0,r.jsx)(c.z,{type:"button",variant:"secondary",className:"w-full",size:"xl",disabled:m.isLoading,asChild:!0,children:(0,r.jsx)(H.x8,{asChild:!0,children:(0,r.jsx)(F.default,{onClick:()=>{var e;(0,W.iC)(V.r.UPGRADE_PLAN_BTN_DASHBOARD,null!==(e=null==i?void 0:i.email)&&void 0!==e?e:"")},href:b.H7.SUBSCRIPTION,children:"Upgrade Plan"})})})]})]})})};var J=n(6498),ee=n(18431),et=n(76111);let en="low-on-tokens-modal",er=()=>{var e,t,n,i;let a=(0,Q.m8)()(e=>e.subscription),{isModalOpen:l,setIsModalOpen:o}=(0,v.d)(),d=(0,Q.m8)()(e=>e.user),u=!!d,m=(null!==(n=null==a?void 0:null===(t=a.stripe)||void 0===t?void 0:null===(e=t.StripePrice.StripeProduct)||void 0===e?void 0:e.name)&&void 0!==n?n:"")===ee.Sz.STANDARD,{data:p,isLoading:x}=(0,J.j)(),g=null!==(i=null==p?void 0:p.platformSpecificTotal)&&void 0!==i?i:0;return((0,s.useEffect)(()=>{u&&!x&&g<=30&&"true"!==sessionStorage.getItem(en)&&(o(!0),sessionStorage.setItem(en,"true"))},[o,x,g,u]),!a||x)?null:(0,r.jsx)(I.$E,{open:l,onOpenChange:o,children:(0,r.jsxs)(I.Yk,{className:"flex h-fit w-[409px] flex-col items-center justify-start gap-6 p-6 pt-11",children:[(0,r.jsx)(I.Zh,{}),(0,r.jsx)("div",{className:"grid min-h-[74px] min-w-[74px] place-items-center rounded-full bg-[linear-gradient(180deg,#9C4FFF_0%,#674FFF_100%)]",children:(0,r.jsx)(N.Nl,{className:"h-11 w-11 stroke-current stroke-[3] text-neutral-0 transition-colors duration-500"})}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 text-center",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-neutral-900 transition-colors duration-500 dark:text-neutral-0",children:"Running low on tokens"}),(0,r.jsx)("p",{className:"text-sm text-neutral-600 transition-colors duration-500 dark:text-neutral-40",children:"Purchase tokens on the go and add them to your existing subscription."})]}),(0,r.jsxs)("div",{className:"flex w-full flex-col gap-3",children:[(0,r.jsx)(et.BuyMoreTokensModalCTA,{size:"xl",onClick:()=>{var e;return(0,W.iC)(V.r.LOW_ON_TOKENS,null!==(e=null==d?void 0:d.email)&&void 0!==e?e:"")},children:"Buy tokens"}),m&&(0,r.jsx)(c.z,{type:"button",variant:"secondary",className:"w-full",size:"xl",asChild:!0,children:(0,r.jsx)(H.x8,{asChild:!0,children:(0,r.jsx)(F.default,{href:b.H7.SUBSCRIPTION,children:"Upgrade Plan"})})})]})]})})};var ei=n(10733);let ea=[b.H7.STARTER],es=e=>{for(let t=0;t<ea.length;t++)if(e.startsWith(ea[t]))return!1;return!0},el=()=>{let e=(0,ei.Td)()(e=>e.announcementModal),t=(0,Q.m8)()(e=>e.user),n=(0,i.useRouter)(),s=es((0,i.usePathname)()),l=(0,a.ac)("(max-width: 768px)");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(q,{}),(0,r.jsx)(M,{}),(0,r.jsx)(er,{}),(0,r.jsx)(E,{}),!!t&&!l&&s&&(0,r.jsx)(h,{onCloseBtnClick:()=>{j.c.triggerEventUsingElementId(_.i.ANNOUNCEMENT_POPUP_CLOSE)},announcementModal:e,redirectHandler:e=>{j.c.triggerEventUsingElementId(_.i.ANNOUNCEMENT_POPUP_CTA),n.push(e)}})]})}},13684:function(e,t,n){"use strict";n.d(t,{Initializer:function(){return G}});var r,i=n(57437),a=n(14643),s=n(2265),l=n(75994),o=n(43664),d=n(47802),c=n(82442),u=n(16463),m=n(63218),p=n(51864),x=n(72143),g=n(54795);let f=async(e,t)=>await x.p.get("".concat(g.TG.VIDEO_STATUS).concat(t?"/".concat(t):""),null==e?void 0:e.requestOptions,{throwOnError:!1});var h=n(81750);(r||(r={})).VIDEO_GENERATED="VideoGenerated";let _=e=>{let t=(0,h.m8)()(e=>e.user);return(0,p.useQuery)([r.VIDEO_GENERATED],()=>f(),{refetchInterval:3e4,onSuccess:e,enabled:!!t})};var v=n(20756),N=n(81149);let j=()=>{let e=(0,u.useRouter)(),[t,n]=(0,s.useState)(),{data:r,isFetching:a}=_(),l=(0,u.usePathname)(),o=(e,t)=>{if("success"===e.code&&(null==t?void 0:t.code)==="success"&&e.data.videos.length===t.data.videos.length)for(let n=0;n<e.data.videos.length;n++){let r=e.data.videos[n].code,i=t.data.videos[n].code;if(r!==i&&i===v.w.FINISHED)return!0}return!1};return(0,s.useEffect)(()=>{t&&!a&&o(t,r)&&l!==m.H7.LIBRARY&&c.Am.success("Your video is Ready",{duration:4e3,renderCta:t=>(0,i.jsx)(N.z,{...t,onClick:()=>{e.push(m.H7.LIBRARY)},children:"View Now"})}),n(r)},[r,t,a,e,l]),null};var I=n(44785),E=n(89216),b=n(1576),w=n(6498),y=n(73179),k=n(32324),S=n(21795);let T=async(e,t,n,r,i)=>{let a=t;if(!e.current){if(!t&&n){e.current=!0;let s=await (0,S.Pl)(null!=t?t:"",null!=n?n:"",null!=r?r:"");if(s)(0,S.Ml)({token:s.sessionToken,refreshToken:s.refreshToken,tokenExpiresIn:s.tokenExpiresIn,cookies:I.Z}),e.current=!1,a=s.sessionToken;else try{await (0,k.kS)()}catch(e){throw Error("Your session has expired. Please sign in again to continue using the application.")}finally{i()}}else if(!t&&!n)try{await (0,k.kS)()}catch(e){throw Error("Your session has expired. Please sign in again to continue using the application.")}finally{i()}}return a},C=[g.TG.TEXT_BASED_REALTIME_GENERATION,g.TG.IMAGE_BASED_REALTIME_GENERATION],P=()=>{let e=(0,y.a)(),t=(0,s.useRef)(!1),{refetch:n}=(0,w.j)();return(0,s.useEffect)(()=>{let r=x.p.interceptors.request.use(async n=>{t.current&&await (0,d.Ch)(()=>!t.current,500);let r=I.Z.get(b.R.TOKEN),i=I.Z.get(b.R.REFRESH_TOKEN),a=I.Z.get(b.R.TOKEN_EXPIRES_IN),s=new Headers(n.headers);return r=await T(t,r,i,a,e),s.set("X-Platform","".concat(E.K.WEB)),s.set("Authorization","Bearer ".concat(r)),n.headers=s,n}),i=x.p.interceptors.response.use(e=>(C.some(t=>{var n;return null===(n=e.response.url)||void 0===n?void 0:n.includes(t)})||n(),e));return()=>{x.p.interceptors.request.eject(r),x.p.interceptors.response.eject(i)}},[]),null},A=()=>{let e=(0,u.useSearchParams)();return(0,d.Pu)(e),null};var O=n(80732),R=n(88318),D=n(85951),L=n(14125);let U=()=>{var e,t,n;let r=(0,u.useSearchParams)(),i=(0,h.m8)()(e=>e.user),{aggregator:a}=(0,D.O)(),l=(0,h.m8)()(e=>e.subscription),{stripeSubscription:o}=(0,L.L)(l),{isSubscriptionActive:d}=(0,L.L)(l),c=null==o?void 0:null===(t=o.StripePrice)||void 0===t?void 0:null===(e=t.StripeProduct)||void 0===e?void 0:e.name,m=null==o?void 0:null===(n=o.StripePrice)||void 0===n?void 0:n.billingInterval,p=d?"Premium":"Free",x=(0,u.usePathname)();return(0,s.useEffect)(()=>{i&&("true"===r.get("isSignUp")&&a.log(O.H.signup_completed.withProperties({signup_channel:"Web",name:null==i?void 0:i.name,email:null==i?void 0:i.email,distinct_id:null==i?void 0:i.id})),"false"===r.get("isSignUp")&&a.log(O.H.login_completed.withProperties({signup_channel:"Web",email:null==i?void 0:i.email,user_account_status:p,user_plan:c,user_plan_period:m,page_name:R.I[x],distinct_id:i.id})))},[i,a,r,c,m,p,x]),null};var M=n(53574);let H=()=>{let e=(0,h.m8)()(e=>e.user),t=null==e?void 0:e.email;return(0,s.useEffect)(()=>{try{t&&((0,M.jl)(t),(0,M.Y8)(t))}catch(e){}},[t]),null},G=e=>{let{children:t}=e;return(0,s.useEffect)(()=>{o.c.initAnalytics(),(0,a.MD)(),(0,d.g_)()},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.wm,{}),(0,i.jsx)(A,{}),(0,i.jsx)(P,{}),(0,i.jsx)(H,{}),(0,i.jsx)(U,{}),(0,i.jsx)(j,{}),t,(0,i.jsx)(c.Z3,{})]})}},19651:function(e,t,n){"use strict";n.d(t,{Providers:function(){return T}});var r=n(57437),i=n(47808),a=n(27079),s=n(81171),l=n(2265),o=n(52247),d=n(96994),c=n(85951),u=n(42911),m=n(22291),p=n.n(m),x=n(86835);let g={gtmId:o.v.GTM_ID};class f extends x.n{log(e){let{properties:t}=e;this.manager.dataLayer({dataLayer:{event:"gtm.click","gtm.elementId":e.name,...t}})}constructor(){super(),this.manager=p(),this.manager.initialize(g)}}var h=n(80732),_=n(63218);class v extends x.n{log(e){e.id===h.H.nothing.id?this.analyticProvider.log(e):(e.match({event:h.H.export,callback:e=>{if(e.properties.page_name===_.H7.CANVAS_TOOL){let t=e.extractProperties(["email","total_images_exported","tokens_remaining","user_plan","user_plan_period","user_account_status","page_name","export_all","source","file_size","file_type","distinct_id"]);this.analyticProvider.log(t)}else{let t=e.extractProperties(["email","total_images_exported","tokens_remaining","user_plan","user_plan_period","page_name","user_account_status","export_all","source","distinct_id"]);this.analyticProvider.log(t)}}}),e.match({event:h.H.logout_completed,callback:e=>{let t=e.extractProperties(["signup_channel","email","user_plan_period","user_plan","user_account_status","page_name","logout_count","distinct_id"]);this.analyticProvider.log(t)}}),e.match({event:h.H.signup_completed,callback:e=>{let t=e.extractProperties(["signup_channel","email","mode","marketing_consent","name","distinct_id"]);this.analyticProvider.log(t)}}),e.match({event:h.H.login_completed,callback:e=>{let t=e.extractProperties(["email","login_count","mode","page_name","revenue_till_date","signup_channel","user_account_status","user_plan","user_plan_period","distinct_id"]);this.analyticProvider.log(t)}}),e.match({event:h.H.add_to_cart,callback:e=>{let t=e.extractProperties(["amount","currency","email","page_name","signup_channel","tokens_amount","user_plan_period","user_plan","distinct_id"]);this.analyticProvider.log(t)}}),e.match({event:h.H.purchase,callback:e=>{let t=e.extractProperties(["Payment_status","amount","currency","email","page_name","payment_method","signup_channel","subscription_downgrade","subscription_upgrade","tokens_amount","tokens_remaining","user_plan","user_plan_period","distinct_id","renewal_status","topup_purchased"]);this.analyticProvider.log(t)}}),e.match({event:h.H.image_generated,callback:e=>{if("Text to Image"===e.properties.feature){let t=e.extractProperties(["feature","number_of_images","aspect_ratio","cfg_scale","hdr_enabled","model_id","model_used","style_used","page_name","negative_prompt_used","negative_prompt_length","random_prompt_used","seed","session_text_to_image","source","steps","tag_used","user_account_status","user_plan","user_plan_period","email","texttoimages_generated","ai_generations","tokens_remaining","generation_source","prompt_length","processing_error","processing_status","tag_category","distinct_id"]);this.analyticProvider.log(t)}if("Image Remix"===e.properties.feature){let t=e.extractProperties(["feature","number_of_images","cfg_scale","model_id","model_used","style_used","negative_prompt_used","negative_prompt_length","random_prompt_used","hdr_enabled","seed","source","tag_used","user_plan","user_account_status","user_plan_period","email","ai_generations","tokens_remaining","image_strength","remix_mode","session_image_remix","generation_source","remix_generated","page_name","prompt_length","processing_error","processing_status","tag_category","distinct_id"]);this.analyticProvider.log(t)}if("Creative Enhance"===e.properties.feature){let t=e.extractProperties(["feature","number_of_images","source","advance_settings_used","creativity","resemblance","hdr_strength","prompt_used","prompt_length","enhance_generated","page_name","processing_status","processing_error","email","user_account_status","user_plan","user_plan_period","tokens_remaining","distinct_id"]);this.analyticProvider.log(t)}}}))}constructor(e){super(),this.analyticProvider=e}}var N=n(10733),j=n(81750),I=n(95401),E=n(16463),b=n(11567),w=n(85169);let y=[{pathname:_.H7.APPS,exact:!1},{pathname:_.H7.ROOT,exact:!0},{pathname:_.H7.BLOGS,exact:!1},{pathname:_.H7.STARTER,exact:!1}],k=e=>{for(let t=0;t<y.length;t++){let n=y[t];if((0,b.default)(e,n.pathname,n.exact))return"dark"}},S=e=>{let{children:t}=e,n=(0,E.usePathname)();return(0,r.jsx)(w.f,{enableSystem:!0,attribute:"class",disableTransitionOnChange:!0,forcedTheme:k(n),children:t})},T=e=>{let{children:t,remoteConfigValues:n,userStoreValues:m}=e,[p,x]=(0,l.useState)(()=>new u.j([])),[g]=(0,l.useState)(()=>new i.S({defaultOptions:{queries:{refetchOnWindowFocus:!1,refetchOnMount:!1}}}));return(0,l.useEffect)(()=>{let e=new v(new f);x(new u.j([e]))},[]),(0,r.jsx)(c.n,{aggregator:p,children:(0,r.jsx)(d.f,{children:(0,r.jsx)(j.KG,{initialState:m,children:(0,r.jsx)(N.hO,{initialState:n,children:(0,r.jsx)(S,{children:(0,r.jsx)(I.Xf,{children:(0,r.jsxs)(a.QueryClientProvider,{client:g,children:[t,!o.v.IS_PROD_DEPLOYMENT&&(0,r.jsx)(s.t,{initialIsOpen:!1})]})})})})})})})}},75994:function(e,t,n){"use strict";n.d(t,{Ty:function(){return o},wm:function(){return l}});var r=n(16463),i=n(64278),a=n(2265);let s="PROGRESS_ROUTER",l=()=>{let e=(0,r.usePathname)(),t=(0,r.useSearchParams)();return(0,a.useEffect)(()=>{var e;(null!==(e=sessionStorage.getItem(s))&&void 0!==e?e:"false")!=="true"||(i.done(),sessionStorage.setItem(s,"false"))},[e,t]),null},o=()=>{let e=(0,r.useRouter)(),t=(0,a.useCallback)((t,n)=>{sessionStorage.setItem(s,"true"),i.start(),e.push(t,n)},[e]);return(0,a.useMemo)(()=>({push:t}),[t])}},34124:function(e,t,n){"use strict";n.d(t,{$:function(){return i}});var r=n(57437);n(2265);let i=e=>{let{className:t=""}=e;return(0,r.jsx)("div",{className:"my-auto inline-block animate-spin self-center rounded-full border-2 border-solid border-current border-r-transparent ".concat(t),role:"status"})}},89216:function(e,t,n){"use strict";n.d(t,{K:function(){return r}});let r={ANDROID:1,IOS:2,WEB:3,UNIVERSAL:null}},96994:function(e,t,n){"use strict";n.d(t,{V:function(){return d},f:function(){return o}});var r=n(57437),i=n(16463),a=n(2265),s=n(88318);let l=(0,a.createContext)({source:"",page:"",onNavigation:()=>{}}),o=e=>{let{children:t}=e,[n,o]=(0,a.useState)(""),[d,c]=(0,a.useState)(""),u=(0,i.usePathname)();(0,a.useEffect)(()=>{var e;o(null!==(e=sessionStorage.getItem("source"))&&void 0!==e?e:"")},[]);let m=(0,a.useCallback)(e=>{o(d),d&&sessionStorage.setItem("source",d),c(s.I[e])},[d]);(0,a.useEffect)(()=>{m(u)},[u]);let p=(0,a.useMemo)(()=>({source:n,page:d,onNavigation:m}),[n,d,m]);return(0,r.jsx)(l.Provider,{value:p,children:t})},d=()=>{let e=(0,a.useContext)(l);if(void 0===e)throw Error("useToolsContext must be used within a ToolsProvider");return e}},54362:function(e,t,n){"use strict";n.d(t,{PricingModalCTA:function(){return p}});var r=n(57437),i=n(16463),a=n(2265),s=n(63218),l=n(60566),o=n(54012),d=n(81750),c=n(53574),u=n(81149);let m={[s.H7.FROM_TEXT]:l.r.TEXT_TO_IMAGE_UPGRADE_BTN,[s.H7.IMAGE_REMIX]:l.r.IMAGE_REMIX_UPGRADE_BTN,[s.H7.CANVAS_TOOL]:l.r.CANVAS_UPGRADE_BTN},p=(0,a.forwardRef)((e,t)=>{let{onClick:n,...a}=e,l=(0,i.usePathname)(),p=(0,o.k)(e=>e.open),x=(0,d.m8)()(e=>e.user),g=!!(null==x?void 0:x.id),f=(0,i.useRouter)();return(0,r.jsx)(u.z,{type:"button",ref:t,...a,onClick:e=>{var t;if(!g){f.push(s.H7.TOOLS_AUTH);return}null==n||n(e),p(),m[l]&&(0,c.iC)(m[l],null!==(t=null==x?void 0:x.email)&&void 0!==t?t:"")}})});p.displayName="PricingModalCTA"},76111:function(e,t,n){"use strict";n.d(t,{BuyMoreTokensModalCTA:function(){return l}});var r=n(57437),i=n(2265),a=n(24030),s=n(81149);let l=(0,i.forwardRef)((e,t)=>{let{onClick:n,...i}=e,l=(0,a.n)(e=>e.open);return(0,r.jsx)(s.z,{type:"button",ref:t,...i,onClick:e=>{null==n||n(e),l()}})});l.displayName="BuyMoreTokensModalCTA"},6498:function(e,t,n){"use strict";n.d(t,{X:function(){return m},j:function(){return u}});var r,i,a=n(51864),s=n(94046),l=n(81750),o=n(89216);let d=new Set([o.K.WEB,o.K.UNIVERSAL]),c=async()=>{let e=await (0,s.VV)(),t=e.tokens.filter(e=>{let{platform:t}=e;return d.has(t)}).reduce((e,t)=>e+t.balance,0);return{...e,platformSpecificTotal:t}};(r=i||(i={})).TOKEN_COUNT="TokenCount",r.TOKEN_CONSUMPTION_CONFIG="TokenConsumptionConfig";let u=()=>{let e=(0,l.m8)()(e=>e.user);return(0,a.useQuery)([i.TOKEN_COUNT],c,{enabled:!!e,staleTime:36e5})},m=()=>(0,a.useQuery)([i.TOKEN_CONSUMPTION_CONFIG],s.L5,{staleTime:36e5})},73179:function(e,t,n){"use strict";n.d(t,{a:function(){return u}});var r=n(16463),i=n(63218),a=n(18741),s=n(5672),l=n(18617),o=n(30507),d=n(81750),c=n(21795);let u=()=>{let e=(0,r.useRouter)(),t=(0,s.TI)(e=>e.resetCollectionStore),n=(0,l.IJ)(e=>e.resetCollectionStore),u=(0,a.m)(e=>e.resetChangePlanStoreStore),m=(0,o.p)(e=>e.resetPersistToolSettingStore),p=(0,d.m8)()(e=>e.logoutUser);return()=>{p(),t(),n(),u(),m(),(0,c.J5)(),e.push(i.H7.AUTH)}}},76015:function(e,t,n){"use strict";n.d(t,{$E:function(){return d},DQ:function(){return g},Yk:function(){return p},Zh:function(){return m},_w:function(){return x},mp:function(){return h},vb:function(){return f}});var r=n(57437),i=n(13304),a=n(2265),s=n(8792),l=n(24528),o=n(81149);let d=i.fC;i.xz;let c=e=>(0,r.jsx)(i.h_,{...e});c.displayName=i.h_.displayName;let u=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(i.aV,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black bg-opacity-70 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...a})});u.displayName=i.aV.displayName;let m=e=>{let{btnProps:t={},...n}=e,{className:a,variant:d="ghost-secondary",size:c="icon-sm",...u}=t;return(0,r.jsx)(o.z,{variant:d,size:c,className:(0,l.cn)("absolute right-2 top-2",a),asChild:!0,...u,children:(0,r.jsxs)(i.x8,{...n,children:[(0,r.jsx)(s.aM,{className:"h-[18px] w-[18px] stroke-[1.5]"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})})};m.displayName=i.x8.displayName;let p=a.forwardRef((e,t)=>{let{className:n,children:a,onModalClose:s,onCloseAutoFocus:o,disableAnimation:d=!1,container:m=document.body,...p}=e;return(0,r.jsxs)(c,{container:m,children:[(0,r.jsx)(u,{}),(0,r.jsx)(i.VY,{onCloseAutoFocus:e=>{null==s||s(),null==o||o(e)},ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 flex translate-x-[-50%] translate-y-[-50%] flex-col justify-between rounded-[18px] bg-neutral-0 text-neutral-600 shadow-lg transition-all duration-200 dark:bg-neutral-900 dark:text-neutral-40",{"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]":!d},n),...p,children:a})]})});p.displayName=i.VY.displayName;let x=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex h-12 flex-col justify-center gap-1 border-b border-neutral-20 p-2 pl-4 transition-all duration-500 dark:border-neutral-800",t),...n})};x.displayName="GenericModalHeader";let g=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex h-full flex-1 flex-col gap-1",t),...n})};g.displayName="GenericModalBody";let f=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex h-fit items-center justify-end p-6 pt-0",t),...n})};f.displayName="GenericModalFooter";let h=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(i.Dx,{ref:t,className:(0,l.cn)("font-medium text-neutral-900 transition-all duration-500 dark:text-neutral-0",n),...a})});h.displayName=i.Dx.displayName,a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(i.dk,{ref:t,className:(0,l.cn)("text-sm text-neutral-600 dark:text-neutral-40",n),...a})}).displayName=i.dk.displayName},8363:function(e,t,n){"use strict";n.d(t,{Kl:function(){return o},E9:function(){return d}});var r=n(57437),i=n(99497),a=n(2265),s=n(24528);let l=(0,n(12218).j)("aspect-square rounded-full border-2 border-neutral-200 dark:border-neutral-200 shadow ring-primary-500 dark:ring-primary-400 hover:border-primary-500 dark:hover:border-primary-400 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:border-primary-500 dark:data-[state=checked]:border-primary-400",{variants:{size:{sm:"sm h-4 w-4",md:"md h-5 w-5",lg:"lg h-6 w-6"}},defaultVariants:{size:"md"}}),o=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(i.fC,{className:(0,s.cn)("grid gap-2",n),...a,ref:t})});o.displayName=i.fC.displayName;let d=a.forwardRef((e,t)=>{let{className:n,size:a,...o}=e;return(0,r.jsx)(i.ck,{ref:t,className:(0,s.cn)(l({size:a,className:n})),...o,children:(0,r.jsx)(i.z$,{className:"flex items-center justify-center",children:(0,r.jsx)("div",{className:"h-2 w-2 rounded-full bg-primary-500 transition-colors duration-500 dark:bg-primary-400 [.lg_&]:h-2.5 [.lg_&]:w-2.5 [.sm_&]:h-1.5 [.sm_&]:w-1.5"})})})});d.displayName=i.ck.displayName},95401:function(e,t,n){"use strict";n.d(t,{Xf:function(){return d},WithGenericTooltip:function(){return p}});var r=n(57437),i=n(71538),a=n(27071),s=n(2265),l=n(24528);let o=(0,n(12218).j)("z-50 max-w-[300px] bg-neutral-800 text-neutral-0 shadow-[0px_0px_1px_0px_rgba(0,0,0,0.30),0px_2px_30px_0px_rgba(0,0,0,0.08),0px_0px_15px_0px_rgba(0,0,0,0.03)] animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:bg-neutral-0 dark:text-neutral-900 dark:shadow-[0px_0px_1px_0px_rgba(0,0,0,0.30),0px_2px_30px_0px_rgba(0,0,0,0.08),0px_0px_15px_0px_rgba(0,0,0,0.03)]",{variants:{variant:{tooltip:"py-1 px-4",hint:"py-2 px-4"},size:{sm:"text-xs",md:"text-sm",lg:"text-base"},radius:{none:"rounded-none",sm:"rounded-lg",md:"rounded-xl",lg:"rounded-[14px]",full:"rounded-full"}}}),d=e=>{let{children:t,...n}=e;return(0,r.jsx)(a.zt,{delayDuration:0,disableHoverableContent:!0,...n,children:t})},c=a.fC,u=a.xz,m=s.forwardRef((e,t)=>{let{className:n,variant:i="tooltip",sideOffset:s=10,...d}=e,{size:c="tooltip"===i?"md":"sm",radius:u="sm",...m}=d;return(0,r.jsx)(a.h_,{children:(0,r.jsx)(a.VY,{ref:t,sideOffset:s,className:(0,l.cn)(o({className:n,variant:i,size:c,radius:u})),...m})})});m.displayName=a.VY.displayName;let p=s.forwardRef((e,t)=>{let{children:n,content:a,genericTooltipContentProps:s={},genericTooltipTriggerProps:l={},genericTooltipProps:o={},radius:d,size:p,variant:x}=e;return(0,r.jsxs)(c,{...o,children:[(0,r.jsx)(u,{...l,asChild:!0,children:(0,r.jsx)(i.g7,{ref:t,children:n})}),(0,r.jsx)(m,{...s,radius:d,size:p,variant:x,children:a})]})});p.displayName="WithGenericTooltip"},78958:function(e,t,n){"use strict";n.d(t,{m:function(){return a}});var r=n(2265),i=n(82442);let a=()=>{let[e,t]=(0,r.useState)(null);return{value:e,copy:async e=>{var n;if(!(null===(n=navigator)||void 0===n?void 0:n.clipboard))return i.Am.error("Your browser does not support copying to clipboard"),!1;try{return await navigator.clipboard.writeText(e),t(e),!0}catch(e){return i.Am.error("Failed to copy to clipboard"),t(null),!1}}}}},72143:function(e,t,n){"use strict";n.d(t,{p:function(){return s}});var r=n(52247),i=n(11141),a=n(70778);let s=new i.hE({baseURL:r.v.ANPU_API_URL,defaultHeadersGenerator:a.A})},94046:function(e,t,n){"use strict";n.d(t,{xv:function(){return d},L5:function(){return o},VV:function(){return l}});var r=n(52247),i=n(11141),a=n(70778);let s=new i.hE({baseURL:r.v.ANPU_API_URL,defaultHeadersGenerator:a.A}),l=async()=>{let{data:e}=await s.get("/credit",void 0,{throwOnError:!0});return e},o=async()=>{let{data:e}=await s.get("/cost",void 0,{throwOnError:!0});return e},d=async e=>{let{data:t}=await s.get("/session",null==e?void 0:e.requestOptions,{throwOnError:!0});return t}},54795:function(e,t,n){"use strict";n.d(t,{SN:function(){return d},TG:function(){return i},WX:function(){return c},kw:function(){return s},zx:function(){return l}});var r,i,a=n(29328);let s=e=>{let t=new Headers;return t.append("Content-Type","multipart/form-data"),t.append("Premium",(0,a.Q)(e)),t},l=()=>({model_version:1}),o=e=>null!=e&&e.trim().length>0,d=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=t.filter(o);if(0!==r.length)return r.join(", ")},c=(e,t)=>{var n;let{model:r,aspect_ratio:i,cfg:a,style:s,prompt:o,negative_prompt:c,tags:u,high_res_results:m,seed:p}=e,{model_id:x}=r,g=null!==(n=d(o,null==r?void 0:r.init_prompt,null==s?void 0:s.init_prompt,...Object.entries(u).flatMap(e=>Array.from(e[1]))))&&void 0!==n?n:"",f=d(c,null==r?void 0:r.init_neg_prompt,null==s?void 0:s.init_neg_prompt),h={...l(),aspect_ratio:i,cfg:a,prompt:g,style_id:x,seed:null!=p?p:t};return f&&f.length>0&&(h.negative_prompt=f),m&&r.hdr_toggle&&(h.high_res_results=1),h};(r=i||(i={})).UPSCALE="/upscale",r.ENHANCE="/enhance",r.BACKGROUND_REMOVER="/background/remover",r.INPAINT="/edits/inpaint",r.OUTPAINT="/edits/outpaint",r.IMAGE_REMIX="/edits/remix",r.IMAGE_BASED_REALTIME_GENERATION="/edits/remix/turbo",r.FROM_TEXT="/generations",r.VARIATE="/generations/variations",r.CHARACTER_CONSISTENCY="/generations/consistent",r.TEXT_BASED_REALTIME_GENERATION="/generations/turbo",r.VIDEO_STATUS="/video/status",r.VIDEO_UPLOAD="/video/upload",r.VIDEO_DELETE="/video/delete",r.VIDEO_DOWNLOAD="/video/download",r.VIDEO_THUMBNAIL_DOWNLOAD="/video/thumbnail",r.FACE_DETECT="/info/faces"},20756:function(e,t,n){"use strict";var r,i;n.d(t,{w:function(){return r}}),(i=r||(r={}))[i.PENDING=0]="PENDING",i[i.PROCESSING=1]="PROCESSING",i[i.FINISHED=2]="FINISHED",i[i.FAILED=-1]="FAILED"},24030:function(e,t,n){"use strict";n.d(t,{n:function(){return r}});let r=(0,n(39099).Ue)()(e=>({isOpen:!1,setIsOpen:t=>e({isOpen:t}),open:()=>e({isOpen:!0})}))},5672:function(e,t,n){"use strict";n.d(t,{TI:function(){return a},cg:function(){return s},yn:function(){return i}});var r=n(67259);let i=(e,t)=>(0,r.Qt)(e,t),a=(0,r.hB)(i),s=(0,r.hB)(i)},67259:function(e,t,n){"use strict";n.d(t,{Qt:function(){return m},hB:function(){return x}});var r=n(14643),i=n(20920),a=n(39099),s=n(89291),l=n(22241),o=n(52247),d=n(47802);let c=(e,t)=>{if(!e||!t)return!1;let n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(n=>{let r=e[n],i=t[n];return r&&i&&(0,d.EE)(r,i)})},u=e=>(null==e?void 0:e.trim().toLowerCase())||"",m=(e,t)=>{var n,r,i,a;return!!e&&!!t&&c(e.tags,t.tags)&&e.aspect_ratio===t.aspect_ratio&&e.cfg===t.cfg&&e.high_res_results===t.high_res_results&&u(e.negative_prompt)===u(t.negative_prompt)&&u(e.prompt)===u(t.prompt)&&e.seed===t.seed&&(null===(n=e.style)||void 0===n?void 0:n.id)===(null===(r=t.style)||void 0===r?void 0:r.id)&&(null===(i=e.model)||void 0===i?void 0:i.id)===(null===(a=t.model)||void 0===a?void 0:a.id)},p=e=>{let{collections:t,selectedCollectionId:n}=e;return n?t.findIndex(e=>e.id===n):-1},x=e=>(0,a.Ue)()((0,l.n)((0,s.mW)((t,n)=>({collections:[],selectedCollectionId:void 0,selectedImageId:void 0,setSelectedCollection:e=>{t(t=>{let n=t.collections.find(t=>t.id===e.id);n&&(t.selectedCollectionId=n.id,t.selectedImageId=n.images[0].id)})},setSelectedImage:e=>{t(t=>{let n=t.collections.find(e=>e.id===t.selectedCollectionId);n&&n.images.find(t=>t.id===e)&&(t.selectedImageId=e)})},addImagesToCollection:(a,s,l)=>{t(t=>{let o=p(n()),d=(0,r.cA)(s),c=a.map(e=>({id:(0,i.Z)(),...e,...l?{originalSrc:l.src,originalImageId:l.id,isVariation:!!l}:{}}));if(-1===o||!t.collections[o]){let e=(0,r.cA)({id:(0,i.Z)(),images:c,settings:s});t.collections.unshift(e),t.selectedCollectionId=e.id,t.selectedImageId=e.images[0].id;return}let u=t.collections.findIndex(t=>e(t.settings,d));if(-1!==u)t.collections[u].images.unshift(...c);else{let e=(0,r.P2)({id:(0,i.Z)(),images:c,settings:s});t.collections.unshift(e),t.selectedCollectionId=e.id,t.selectedImageId=e.images[0].id}})},addImageToCollectionWithLoading:(a,s)=>{let l=(0,i.Z)();return t(t=>{let o=p(n()),d=(0,r.cA)(a),c={id:l,src:"",...s?{originalSrc:s.src,originalImageId:s.id,isVariation:!!s}:{},isLoading:!0};if(-1===o||!t.collections[o]){let e=(0,r.cA)({id:(0,i.Z)(),images:[c],settings:a});t.collections.unshift(e),t.selectedCollectionId=e.id,t.selectedImageId=e.images[0].id;return}let u=t.collections.findIndex(t=>e(t.settings,d));if(-1!==u)t.collections[u].images.unshift(c);else{let e=(0,r.P2)({id:(0,i.Z)(),images:[c],settings:a});t.collections.unshift(e),t.selectedCollectionId=e.id,t.selectedImageId=e.images[0].id}}),{imageId:l,collectionId:""}},completeImageGenerationLoading(e){let{image:r,imageId:i}=e;t(e=>{e.collections.forEach(e=>{let t=e.images.find(e=>e.id===i);t&&(t.isLoading=!1,t.src=r.src,r.randomSeed&&(t.randomSeed=r.randomSeed))});let t=p(n());if(-1===t)return;let a=e.collections[t].images.find(e=>e.id===i);a&&(a.src=r.src,a.isLoading=!1,r.randomSeed&&(a.randomSeed=r.randomSeed))})},deleteLoadingImage(e){t(t=>{var r;let i=p(n());-1!==i&&(t.collections[i].images=t.collections[i].images.filter(t=>t.id!==e),t.collections[i].images.length>0||(t.collections.splice(i,1),t.selectedCollectionId=null===(r=t.collections[0])||void 0===r?void 0:r.id))})},resetCollectionStore:()=>{t(e=>{e.collections=[],e.selectedCollectionId=void 0,e.selectedImageId=void 0})},setImageLoading:(e,r)=>{t(t=>{t.collections.forEach(t=>{let n=t.images.find(t=>t.id===e);n&&(n.isLoading=r)});let i=p(n());if(-1===i)return;let a=t.collections[i].images.find(t=>t.id===e);a&&(a.isLoading=r)})},setImagesUpscale:(e,r,i)=>{t(t=>{t.collections.forEach(t=>{t.images.forEach(t=>{e===t.id&&(t.upscaleSrc=r,t.isUpscaled=i)})});let a=p(n());-1!==a&&t.collections[a].images.forEach(t=>{e===t.id&&(t.upscaleSrc=r,t.isUpscaled=i)})})},deleteImage:e=>{t(t=>{var r;t.collections.forEach(t=>{t.images=t.images.filter(t=>t.id!==e)}),e===t.selectedImageId&&(t.selectedImageId=void 0);let i=p(n());-1!==i&&(t.collections[i].images=t.collections[i].images.filter(t=>t.id!==e),t.collections[i].images.length>0||(t.collections=t.collections.filter(e=>{var n;return e.id!==(null===(n=t.collections[i])||void 0===n?void 0:n.id)}),t.selectedCollectionId=null===(r=t.collections[0])||void 0===r?void 0:r.id))})},setFocusOfOriginalImage:(e,r)=>{t(t=>{let i=p(n());if(-1===i)return;let a=t.collections[i].images.find(t=>t.id===e);a&&(a.isFocused=r)})}}),{enabled:!o.v.IS_PROD_DEPLOYMENT&&(0,d.Ep)().isBrowser})))},18617:function(e,t,n){"use strict";n.d(t,{Hv:function(){return s},IJ:function(){return a},Tp:function(){return i}});var r=n(67259);let i=(e,t)=>(null==e?void 0:e.image)===(null==t?void 0:t.image)&&(null==e?void 0:e.control)===(null==t?void 0:t.control)&&(null==e?void 0:e.strength)===(null==t?void 0:t.strength)&&(0,r.Qt)(e,t),a=(0,r.hB)(i),s=(0,r.hB)(i)},30507:function(e,t,n){"use strict";n.d(t,{p:function(){return a}});var r=n(39099),i=n(89291);let a=(0,r.Ue)()((0,i.tJ)(e=>({persistedFromTextSetting:null,persistedImageRemixSetting:null,persistFromTextSetting:t=>e({persistedFromTextSetting:t}),persistImageRemixSetting:t=>{let{image:n,imageCroppedFrom:r,...i}=t;return e({persistedImageRemixSetting:i})},resetPersistToolSettingStore:()=>e({persistedFromTextSetting:null,persistedImageRemixSetting:null})}),{name:"persist-tool-setting"}))},54012:function(e,t,n){"use strict";n.d(t,{k:function(){return r}});let r=(0,n(39099).Ue)()(e=>({isOpen:!1,setIsOpen:t=>e({isOpen:t}),open:()=>e({isOpen:!0})}))},43664:function(e,t,n){"use strict";n.d(t,{c:function(){return d}});var r=n(63135),i=n(22291),a=n.n(i),s=n(52247);let l={gtmId:s.v.GTM_ID},o={autoConfig:!0,debug:s.v.IS_DEV};class d{static async initAnalytics(){let e=await n.e(2790).then(n.t.bind(n,2790,23));d.ReactPixel=e.default,this.ReactPixel.init(s.v.PIXEL_ID,void 0,o),a().initialize(l),r.Z.init(s.v.TAPFILIATE_ID,{integration:"stripe"})}static getReactPixel(){if(!d.ReactPixel)throw Error("Analytics not initialized");return d.ReactPixel}static triggerEventUsingElementId(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};a().dataLayer({dataLayer:{event:"gtm.click","gtm.elementId":e,eventID:t,...n}}),d.ReactPixel.trackCustom(e)}}},29328:function(e,t,n){"use strict";n.d(t,{Q:function(){return d},eL:function(){return c}});var r=n(57437),i=n(54362),a=n(76111),s=n(17674),l=n(11141),o=n(82442);let d=e=>e?"True":"False",c=(e,t)=>{if(e&&"object"==typeof e&&"code"in e&&"error"===e.code){if(e.statusCode===l.fJ.ABORTED){o.Am.error("Request canceled");return}if(e.error instanceof Error){o.Am.error(e.error.message);return}if(1101===e.error.code){o.Am.warning("Insufficient tokens. Tokens replenish every 12 hours.",{icon:(0,r.jsx)(s.Ss,{}),renderCta:e=>t?(0,r.jsx)(a.BuyMoreTokensModalCTA,{...e,children:"Buy tokens"}):(0,r.jsx)(i.PricingModalCTA,{...e,children:"Upgrade"}),className:"max-w-[500px]"});return}if(1100===e.error.code){o.Am.error("Sent request in invalid");return}if(400===e.statusCode||451===e.statusCode){o.Am.error("You can not generate Images of kids and celebrities.");return}o.Am.error(e.error.error);return}o.Am.error("Processing failed")},u=e=>new Promise(t=>{setTimeout(t,e)}),m=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;try{return await e()}catch(r){if(n>0)return await u(t),m(e,2*t,n-1);throw r}}},53054:function(){},31183:function(){}},function(e){e.O(0,[3008,9141,4488,1750,9026,6533,7138,1606,7032,226,3304,8286,7071,1298,6526,3370,2146,8662,2314,7130,5223,7808,5092,8635,9602,8030,2237,4364,2971,7023,1744],function(){return e(e.s=58925)}),_N_E=e.O()}]);